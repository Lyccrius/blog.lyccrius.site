---
layout: post
title: "AcWing 102. 最佳牛围栏"
date:   2022-08-27
categories: solution acwing
---

> 题目链接：<a href="https://www.acwing.com/problem/content/104/" target="_blank">102. 最佳牛围栏 - AcWing题库</a>

二分答案，判定 “是否存在一个长度不小于 $$L$$ 的子段，平均数**不小于**二分的值”。

如果把数列中每个数都减去二分的值，就转化为判定 “**是否存在一个长度不小于 $$L$$ 的子段，子段和非负**”。

> 1. 求一个子段，它的和最大，没有 “长度不小于 $$L$$” 这个限制。
>  
> 无长度限制的最大子段和问题是一个经典问题，只需 $$O(n)$$ 扫描该数列，不断把新的数加入子段，当子段和变成负数时，把当前的整个子段清空。
> 
> 扫描过程中出现过的最大子段和即为所求。
> 
> 2. 求一个子段，它的和最大，子段的长度不小于 $$L$$。  
> 
> 子段和可以转化为前缀和相减的形式，即设 $$sum_i$$ 表示 $$A_1～\sim A_i$$ 的和，则有：
> 
> $$\max_{i-j\geq L}\{A_{j+1}+A_{j+2}+\cdots+A_i\}=\max_{L\leq i\leq n}\{sum_i-\min_{0\leq j\leq i-L}\{sum_j\}\}$$ 
> 