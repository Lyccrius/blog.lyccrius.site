---
layout: post
title: "UOJ NOI Round #4"
date:   2023-07-18
categories: solution uoj
---

## A. 序列妙妙值

### 40

>   $n \le 5000$

记 $f_{i, j}$ 表示前 $i$ 个数字，划分成 $j$ 段的最优解，枚举新的右端点转移即可。

使用前缀异或和优化，时间复杂度 $\mathcal O(n^2 k)$。

### 60

>   $a_i \lt 2^8$

记录前缀异或和为 $a_i$ 的最优解，枚举上一个端点对应的前缀异或和转移即可。

时间复杂度 $\mathcal O(n k a)$。

### 100

>   $n \le 60000$  
>   $a_i \lt 2^{16}$

不难发现对于算法 2，可以实现 $\mathcal O(1)$ 修改最优解，$\mathcal O(v)$ 查询，尝试平衡两部分的复杂度。

在修改时，枚举二进制下较高的 $8$ 位，并且更新最优解。

在询问时，枚举二进制下较低的 $8$ 位，并且利用最优解更新状态。

不难发现，这样转移和算法 2 中的等价。

时间复杂度 $\mathcal O(n k \sqrt{a})$。

## B. 网络恢复