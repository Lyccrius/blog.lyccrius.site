---
layout: post
title:  基础算法
date:   2020-08-17
author: 王欣灏
categories: course qbxt 6
---

# 二分与分治题目选讲1

## [$\color{#52C41A} \mathrm{P1281}$](https://www.luogu.com.cn/problem/P1281) 书的复制

最大值最小，考虑二分答案。

如果有多解，则尽可能让前面的人少抄写。

倒序处理。

```cpp
bool check(int T) {
    int cur = m;
    for (int i = 1; i <= k; i++) s[i] = 0, t[i] = 0;
    for (int i = k; i >= 1; i--) {
        int t = 0;
        while (cur >= 1 && t + p[cur] <= T) t += p[cur], cur--;
    }
    return cur == 0;
}
```

```cpp
    int l = minP;
    int r = sumP;
    while (l < r) {
        int mid = (l + r) >> 1;
        if (check(mid)) r = mid;
        else l = mid + 1;
    }
    int cur = m;
    for (int i = k; i >= 1; i--) {
        int T = 0;
        while (cur >= 1 && T + p[cur] <= l) {
            T += p[cur];
            if (t[i] == 0) t[i] = cur;
            s[i] = cur;
            cur--;
        }
    }
```