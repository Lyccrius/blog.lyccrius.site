---
layout: post
title:  数据结构题目选讲
date:   2020-08-19
author: 李佳实
categories: course qbxt 6
---

*   数据结构是优化时间或空间的工具
*   正式比赛中考察对数据结构本身的理解的题相对不多
*   更多的题考察的是模型转化
*   所以我们要熟练掌握代码，明白每个数据结构能做什么。

# NOIP 数据结构

*   栈（单调栈）、队列（单调队列）
*   堆（优先队列、手动实现）
*   链表（双向链表、循环链表）
*   ST表
*   并查集（路径压缩、按秩合并）
*   树状数组、二维树状数组
*   字典树
*   线段树、平衡树

# 题目选讲

## [$\color{#52C41A} \text{P1955}](https://www.luogu.com.cn/problem/P1955) [NOI2015] 程序自动分析

*   用并查集维护相等关系。
*   判断不等关系是否冲突。

```cpp
    for (int k = 1; k <= n; k++) if (e[k] == 1) DSU.Union(i[k], j[k]);
    for (int k = 1; k <= n; k++) if (e[k] == 0) if (DSU.Find(i[k]) == DSU.Find(j[k])) ok = false;
```

*   记得离散化。
*   空间开二倍。

##  [$\color{#3498DA} \text{P3512}$](https://www.luogu.com.cn/problem/P3512) [POI2010]PIL-Pilots

*   单调队列维护最大/小值。
*   队列头部超出限制就弹出。

```cpp
    std::deque<lxl> mx;
    std::deque<lxl> mn;
    lxl ans = 0;
    lxl cur = 1;
    for (lxl i = 1; i <= n; i++) {
        while (!mx.empty() && a[mx.back()] < a[i]) mx.pop_back();
        while (!mn.empty() && a[mn.back()] > a[i]) mn.pop_back();
        mx.push_back(i);
        mn.push_back(i);
        while (!mx.empty() && !mn.empty() && a[mx.front()] - a[mn.front()] > k) {
            cur++;
            while (!mx.empty() && mx.front() < cur) mx.pop_front();
            while (!mn.empty() && mn.front() < cur) mn.pop_front();
        }
        ans = std::max(ans, i - cur + 1);
    }
```

## [$\color{#3498DA} \text{P3487}$](https://www.luogu.com.cn/problem/P3487) [POI2009]ARC-Architects

*   字典序满足贪心。
*   $a_{b_{i + 1}}$ 就是 $a_{b_i + 1}$ 到 $a_{n - k + i}$ 的最大值。
*   用单调队列维护。

```cpp
    k = inicjuj();
    while (a[n + 1] = wczytaj()) n++;
    std::deque<int> q;
    for (int i = 1; i <= n; i++) {
        while (!q.empty() && q.back() < a[i]) q.pop_back();
        if (q.size() < k) q.push_back(a[i]);
        if (i >= n - k + 1) wypisz(q.front()), q.pop_front();
    }
```